if the "IsLogToQueue" equal true use another thread for log 
use queue for do it 